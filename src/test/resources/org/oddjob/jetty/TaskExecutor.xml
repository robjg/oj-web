<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<oddjob id="this">
    <job>
        <sequential>
            <jobs>
                <properties>
                    <values>
                        <file file="." key="basedir"/>
                    </values>
                </properties>
                <web:server id="server" port="${server.port}" xmlns:web="oddjob:web">
                    <handlers>
                        <web:files baseDir="${basedir}/src/main/webapp/" directoriesListed="true" minMemoryMappedContentLength="-1">
                            <welcomeFiles>
                                <value value="index.html"/>
                            </welcomeFiles>
                        </web:files>
                        <web:oddjob-ws>
                            <root>
                                <value value="${jobs}"/>
                            </root>
                        </web:oddjob-ws>
                    </handlers>
                </web:server>
                <sequential id="jobs">
                    <jobs>
                        <task-service id="echo-task">
                            <job>
                                <echo id="echo" name="Echo Properties"><![CDATA[Favourite Fruit: ${favourite.fruit}, A Secret: ${some.secret}
]]></echo>
                            </job>
                        </task-service>
                    </jobs>
                </sequential>
            </jobs>
        </sequential>
    </job>
</oddjob>

